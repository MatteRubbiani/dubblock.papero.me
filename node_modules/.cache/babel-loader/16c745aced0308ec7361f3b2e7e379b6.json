{"remainingRequest":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\src\\components\\gameComponents\\lobbyComponents\\ChangePawn.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\src\\components\\gameComponents\\lobbyComponents\\ChangePawn.vue","mtime":1620744899155},{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBQcmV2aWV3IGZyb20gIi4vQ2hhbmdlUGF3bkNvbXBvbmVudHMvUHJldmlldyI7CmltcG9ydCBTaGFwZXMgZnJvbSAiLi9DaGFuZ2VQYXduQ29tcG9uZW50cy9TaGFwZXMiOwppbXBvcnQgQ29sb3JzIGZyb20gIi4vQ2hhbmdlUGF3bkNvbXBvbmVudHMvQ29sb3JzIjsKaW1wb3J0IHdlYnNvY2tldEV2ZW50cyBmcm9tICIuLi8uLi8uLi9jb25zdGFudHMvd2Vic29ja2V0RXZlbnRzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDaGFuZ2VQYXduIiwKICBjb21wb25lbnRzOiB7CiAgICBDb2xvcnM6IENvbG9ycywKICAgIFNoYXBlczogU2hhcGVzLAogICAgUHJldmlldzogUHJldmlldwogIH0sCiAgcHJvcHM6IHsKICAgIHBsYXllcnM6IEFycmF5LAogICAgbG9jYWxJZDogTnVtYmVyLAogICAgc29ja2V0OiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFNoYXBlOiAwLAogICAgICBzZWxlY3RlZENvbG9yOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlUGF3bjogZnVuY3Rpb24gY2hhbmdlUGF3bigpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdCh3ZWJzb2NrZXRFdmVudHMuQ0hBTkdFX1BBV04sIHsKICAgICAgICBzaGFwZTogdGhpcy5zZWxlY3RlZFNoYXBlLAogICAgICAgIGNvbG9yOiB0aGlzLnNlbGVjdGVkQ29sb3IKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdGFrZW46IGZ1bmN0aW9uIHRha2VuKCkgewogICAgICB2YXIgdCA9IFtdOwogICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAocCkgewogICAgICAgIHQucHVzaChbcC5zaGFwZSwgcC5jb2xvcl0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgeW91clNlbGVjdGlvbjogZnVuY3Rpb24geW91clNlbGVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzaGFwZSwgY29sb3I7CiAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgaWYgKHAubG9jYWxJZCA9PT0gX3RoaXMubG9jYWxJZCkgewogICAgICAgICAgc2hhcGUgPSBwLnNoYXBlOwogICAgICAgICAgY29sb3IgPSBwLmNvbG9yOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBbc2hhcGUsIGNvbG9yXTsKICAgIH0sCiAgICBzZWxlY3Rpb25zTWFwcGluZzogZnVuY3Rpb24gc2VsZWN0aW9uc01hcHBpbmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1hcCA9IFtdOwoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocykgewogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoYykgewogICAgICAgICAgdmFyIHRha2VuID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMyLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAocCkgewogICAgICAgICAgICBpZiAocC5zaGFwZSA9PT0gcyAmJiBwLmNvbG9yID09PSBjKSB0YWtlbiA9IHRydWU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBtYXAucHVzaCh7CiAgICAgICAgICAgIHNoYXBlOiBzLAogICAgICAgICAgICBjb2xvcjogYywKICAgICAgICAgICAgdGFrZW46IHRha2VuCiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8PSA0OyBjKyspIHsKICAgICAgICAgIF9sb29wMihjKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBmb3IgKHZhciBzID0gMDsgcyA8PSA0OyBzKyspIHsKICAgICAgICBfbG9vcChzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG1hcDsKICAgIH0sCiAgICBhdmFpbGFibGVDb2xvcnM6IGZ1bmN0aW9uIGF2YWlsYWJsZUNvbG9ycygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgYSA9IFtdOwoKICAgICAgdmFyIF9sb29wMyA9IGZ1bmN0aW9uIF9sb29wMyhpKSB7CiAgICAgICAgX3RoaXMzLnNlbGVjdGlvbnNNYXBwaW5nLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIGlmIChzLnNoYXBlID09PSBfdGhpczMuc2VsZWN0ZWRTaGFwZSkgewogICAgICAgICAgICBpZiAocy5jb2xvciA9PT0gaSkgewogICAgICAgICAgICAgIGEucHVzaCghcy50YWtlbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgX2xvb3AzKGkpOwogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0sCiAgICBhdmFpbGFibGVTaGFwZXM6IGZ1bmN0aW9uIGF2YWlsYWJsZVNoYXBlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgYSA9IFtdOwoKICAgICAgdmFyIF9sb29wNCA9IGZ1bmN0aW9uIF9sb29wNChpKSB7CiAgICAgICAgX3RoaXM0LnNlbGVjdGlvbnNNYXBwaW5nLmZvckVhY2goZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIGlmIChzLmNvbG9yID09PSBfdGhpczQuc2VsZWN0ZWRDb2xvcikgewogICAgICAgICAgICBpZiAocy5zaGFwZSA9PT0gaSkgewogICAgICAgICAgICAgIGEucHVzaCghcy50YWtlbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgX2xvb3A0KGkpOwogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNlbGVjdGVkU2hhcGUgPSB0aGlzLnlvdXJTZWxlY3Rpb25bMF07CiAgICB0aGlzLnNlbGVjdGVkQ29sb3IgPSB0aGlzLnlvdXJTZWxlY3Rpb25bMV07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\matte\\Desktop\\papero\\dubblock.papero.me\\src\\components\\gameComponents\\lobbyComponents\\ChangePawn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"change-pawn_wrapper\">\r\n    <div class=\"change-pawn_container\">\r\n      <Shapes :selected=\"selectedShape\" :available=\"availableShapes\" @shape=\"selectedShape=$event\"></Shapes>\r\n      <div class=\"preview-and-color_wrapper\">\r\n        <Preview :shape=\"selectedShape\" :color=\"selectedColor\"></Preview>\r\n        <Colors :selected=\"selectedColor\" :available=\"availableColors\" @color=\"selectedColor=$event\"></Colors>\r\n      </div>\r\n      <button class=\"change-pawn_button\" v-if=\"socket\" @click=\"changePawn\">Confirm</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Preview from \"./ChangePawnComponents/Preview\";\r\nimport Shapes from \"./ChangePawnComponents/Shapes\";\r\nimport Colors from \"./ChangePawnComponents/Colors\";\r\nimport websocketEvents from \"../../../constants/websocketEvents\";\r\n\r\nexport default {\r\n  name: \"ChangePawn\",\r\n  components: {Colors, Shapes, Preview},\r\n  props: {\r\n    players: Array,\r\n    localId: Number,\r\n    socket: Object\r\n  },\r\n  data() {\r\n    return {\r\n      selectedShape: 0,\r\n      selectedColor: 0\r\n    }\r\n  },\r\n  methods: {\r\n    changePawn: function(){\r\n      this.socket.emit(websocketEvents.CHANGE_PAWN,\r\n          {\r\n            shape: this.selectedShape,\r\n            color: this.selectedColor\r\n          })\r\n    }\r\n  },\r\n  computed: {\r\n    taken: function () {\r\n      let t = []\r\n      this.players.forEach(p => {\r\n        t.push([\r\n          p.shape,\r\n          p.color\r\n        ])\r\n      })\r\n      return t\r\n    },\r\n    yourSelection: function () {\r\n      let shape, color\r\n      this.players.forEach(p => {\r\n        if (p.localId === this.localId) {\r\n          shape = p.shape\r\n          color = p.color\r\n        }\r\n      })\r\n      return [shape, color]\r\n    },\r\n    selectionsMapping: function () {\r\n      let map = []\r\n      for (let s = 0; s <= 4; s++) {\r\n        for (let c = 0; c <= 4; c++) {\r\n          let taken = false\r\n          this.players.forEach(p => {\r\n            if (p.shape === s && p.color === c) taken = true\r\n          })\r\n          map.push({\r\n            shape: s,\r\n            color: c,\r\n            taken: taken\r\n          })\r\n        }\r\n      }\r\n      return map\r\n    },\r\n    availableColors: function (){\r\n      let a = []\r\n      for (let i=0; i<4; i++) {\r\n        this.selectionsMapping.forEach(s => {\r\n          if (s.shape === this.selectedShape) {\r\n            if (s.color === i){\r\n              a.push(!s.taken)\r\n            }\r\n          }\r\n        })\r\n      }\r\n      return a\r\n    },\r\n    availableShapes: function (){\r\n      let a = []\r\n      for (let i=0; i<4; i++) {\r\n        this.selectionsMapping.forEach(s => {\r\n          if (s.color === this.selectedColor) {\r\n            if (s.shape === i){\r\n              a.push(!s.taken)\r\n            }\r\n          }\r\n        })\r\n      }\r\n      return a\r\n    }\r\n  },\r\n  mounted() {\r\n    this.selectedShape = this.yourSelection[0]\r\n    this.selectedColor = this.yourSelection[1]\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.change-pawn_wrapper {\r\n  position: absolute;\r\n  width: 40%;\r\n  height: fit-content;\r\n  top: 10%;\r\n  left: 30%;\r\n  z-index: 5;\r\n\r\n  .change-pawn_container{\r\n    width: fit-content;\r\n    height: fit-content;\r\n    margin: auto;\r\n    .preview-and-color_wrapper {\r\n      display: flex;\r\n      flex-flow: row;\r\n    }\r\n    button{\r\n      margin-top: 5%;\r\n    }\r\n  }\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}